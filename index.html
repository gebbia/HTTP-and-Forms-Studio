<!doctype html>

<head>
	<meta charset="utf-8">
	<script>
		// TODO: create a handler
		function setSearchEngine() {
			let actions = {
 			"google": "https://www.google.com/search",
  			"duckDuckGo": "https://duckduckgo.com/",
  			"bing": "https://www.bing.com/search",
  			"ask": "https://www.ask.com/web"
		};

			let form = document.getElementById("searchForm");  
			let selectedEngine = document.querySelector('input[name=engine]:checked');
			let action = actions[selectedEngine.value];
			alert("action is set to" + action);
			form.setAttribute('action', action);
		}

    window.addEventListener("load", function() {
        // TODO: register the handler
		let form = document.getElementById('searchForm');

		form.addEventListener("submit", function(event) {
			let searchTerm = document.querySelector("input[name=query]");
			let radioCheck = document.getElementsByName('engine');
			let checked = false;
			
			for (let i = 0; i < radioCheck.length; i++) {
				if (radioCheck[i].checked) {
					checked = true;
				}
			};

			if (searchTerm.value === "" || checked === false) {
				alert("Must enter a term to search and select a search engine!");
				// stop the form submission
				event.preventDefault();
				}else{ setSearchEngine();
			}
		});		  
    });

	</script>
</head>

<body>

	<form id="searchForm">
    <!-- TODO: add form elements -->
	<form id="searchForm">	
		<input name ="query" type="text" />
		<label> <input type = "radio" name="engine" value="google">Google</label>
		<label> <input type = "radio" name="engine" value="duckDuckGo">DuckDuckGo</label>
		<label> <input type = "radio" name="engine" value="bing">Bing</label>
		<label> <input type = "radio" name="engine" value="ask"> Ask</label>

		<button type="submit" value = "Go!">Go!</button>
	</form>

</body>


 <!-- Bonus Missions

// Add validation to your submit handler to make sure that the user has both selected a search engine and entered a (non-empty) search term.
// Add some CSS rules to your page to make it look nice. -->

